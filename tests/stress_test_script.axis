mode script

# ============================================
# AXIS Script Mode - Stress Test
# ============================================

writeln("=== AXIS Script Stress Test ===")
writeln("")

# --- Test 1: Variables and Types ---
writeln("1. Variables and Types")
a: i32 = 42
b: i32 = -17
c: u32 = 100
writeln(a)
writeln(b)
writeln(c)

# --- Test 2: Arithmetic ---
writeln("")
writeln("2. Arithmetic")
sum: i32 = a + c
diff: i32 = a - b
prod: i32 = 6 * 7
quot: i32 = 100 / 3
rem: i32 = 100 % 7
write("42 + 100 = ")
writeln(sum)
write("42 - (-17) = ")
writeln(diff)
write("6 * 7 = ")
writeln(prod)
write("100 / 3 = ")
writeln(quot)
write("100 % 7 = ")
writeln(rem)

# --- Test 3: Comparisons ---
writeln("")
writeln("3. Comparisons")
when a > b:
    writeln("42 > -17: True")
when a < c:
    writeln("42 < 100: True")
when a == 42:
    writeln("42 == 42: True")
when a != b:
    writeln("42 != -17: True")

# --- Test 4: Boolean Logic ---
writeln("")
writeln("4. Boolean Logic")
flag: bool = True
when flag:
    writeln("flag is True")
when !flag:
    writeln("ERROR: !True should be False")
else:
    writeln("!flag is False: Correct")

# --- Test 5: Nested Conditions ---
writeln("")
writeln("5. Nested Conditions")
x: i32 = 50
when x > 0:
    when x > 25:
        when x > 75:
            writeln("x > 75")
        else:
            writeln("25 < x <= 75: Correct (x=50)")
    else:
        writeln("0 < x <= 25")
else:
    writeln("x <= 0")

# --- Test 6: While Loop ---
writeln("")
writeln("6. While Loop (1-5)")
i: i32 = 1
while i <= 5:
    write("  i = ")
    writeln(i)
    i = i + 1

# --- Test 7: Loop with Break ---
writeln("")
writeln("7. Loop with Break")
j: i32 = 0
loop:
    j = j + 1
    when j > 3:
        writeln("  Breaking at j=4")
        break
    write("  j = ")
    writeln(j)

# --- Test 8: Loop with Continue ---
writeln("")
writeln("8. Loop with Continue (skip even)")
k: i32 = 0
while k < 6:
    k = k + 1
    # Skip even numbers
    rem2: i32 = k % 2
    when rem2 == 0:
        continue
    write("  k = ")
    writeln(k)

# --- Test 9: Strings ---
writeln("")
writeln("9. String Concatenation")
greeting: str = "Hello"
target: str = "World"
full: str = greeting + ", " + target + "!"
writeln(full)

# --- Test 10: Bitwise Operations ---
writeln("")
writeln("10. Bitwise Operations")
bits: i32 = 12
write("12 & 10 = ")
writeln(bits & 10)
write("12 | 3 = ")
writeln(bits | 3)
write("12 ^ 5 = ")
writeln(bits ^ 5)
write("1 << 4 = ")
writeln(1 << 4)
write("16 >> 2 = ")
writeln(16 >> 2)

# --- Test 11: Unary Operators ---
writeln("")
writeln("11. Unary Operators")
neg: i32 = -42
write("-42 = ")
writeln(neg)
pos: i32 = -neg
write("-(-42) = ")
writeln(pos)

# --- Test 12: Complex Expression ---
writeln("")
writeln("12. Complex Expression")
result: i32 = (10 + 5) * 2 - 3
write("(10 + 5) * 2 - 3 = ")
writeln(result)

# --- Test 13: Nested Loops ---
writeln("")
writeln("13. Nested Loops (3x3 grid)")
row: i32 = 0
while row < 3:
    col: i32 = 0
    while col < 3:
        val: i32 = row * 3 + col
        write(val)
        write(" ")
        col = col + 1
    writeln("")
    row = row + 1

# --- Final ---
writeln("")
writeln("=== All Tests Complete ===")
