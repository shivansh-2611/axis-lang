# AXIS read() syscall test
# Tests: readln(), readchar(), read_failed()

func main() -> i32:
    # Test 1: Read a line as string and print it back
    writeln("Enter your name:")
    name: str = readln()
    write("Hello, ")
    writeln(name)
    
    # Test 2: Read a number and do arithmetic
    writeln("Enter a number:")
    num: i32 = readln()
    when read_failed():
        writeln("Invalid number!")
        give 1
    
    write("You entered: ")
    writeln(num)
    write("Doubled: ")
    writeln(num * 2)
    
    # Test 3: Read a single character
    writeln("Press any key:")
    c: i32 = readchar()
    when c == -1:
        writeln("EOF detected")
        give 0
    
    write("You pressed: ")
    writeln(c)
    
    give 0
